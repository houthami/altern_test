<div class="cart-container relative">
  <p-overlayPanel #op [style]="{ width: '350px' }">
    <div class="cart-items">
      @for (item of cartItems(); track item.id) {
      <div class="cart-item">
        <div class="flex justify-content-between align-items-center">
          <div>
            <div class="font-bold">{{ item.name }}</div>
            <div>{{ item.quantity }} x {{ item.price | currency }}</div>
          </div>
          <button
            (click)="removeFromCart(item.id)"
            class="p-button p-button-danger p-button-text"
          >
            <i class="pi pi-times"></i>
          </button>
        </div>
      </div>
      } @empty {
      <div class="text-center p-3">Your cart is empty</div>
      }
    </div>
    <div class="cart-total p-3 border-top-1">
      <div class="flex justify-content-between font-bold">
        <span>Total:</span>
        <span>{{ cartTotal() | currency }}</span>
      </div>
    </div>
    <div class="cart-actions p-3 border-top-1">
      <p-button
        label="Voir le panier"
        (onClick)="toggle($event)"
        class="w-full"
        severity="info"
      ></p-button>
      <p-button
        label="Commander"
        (onClick)="toggle($event)"
        class="w-full"
        severity="primary"
      ></p-button>
    </div>
  </p-overlayPanel>
</div>
